<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
    <title><%= @airport.identifier %> ARRIVALS</title>
    
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon-32.png" sizes="32x32">
    <link rel="icon" href="/favicon-128.png" sizes="128x128">
    <link rel="icon" href="/favicon-192.png" sizes="192x192">
    <link rel="shortcut icon" sizes="196x196" href="/favicon-196.png">
    <link rel="apple-touch-icon" href="/favicon-152.png" sizes="152x152">
    <link rel="apple-touch-icon" href="/favicon-180.png" sizes="180x180">     
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link href="assets/css/application.css" rel="stylesheet" media="screen"> 
    <link href="assets/css/flip.min.css" rel="stylesheet">
  </head>
  <body style="padding-top: 10px">
    <main class="container-xl">
      <div style="width: 80vw; min-width: 300px; max-width: 50em;">
      <div class="tick" data-did-init="handleTickInit">
        <div data-repeat="true" data-layout="horizontal fit" data-transform="upper -> split -> delay(random, 100, 150)">
          <span data-view="flip" data-transform="ascii -> arrive -> round -> char(a-zA-Z)" class="tick-char"></span>
        </div>
      </div>       
      <table class="table table-bordered table-striped">
        <thead>
        <tr>
          <th>Tail Number</th>
          <th>Arrival Time</th>
        </tr>
        </thead>
        <tbody>
        <% @arrivals.each do |arrival| %>
        <tr>
          <td><%= arrival.tail_number %></td>
          <td><%= arrival.arrived_at.strftime("%H:%M") %></td>
        </tr>
        <% end %>
        </tbody>
      </table>
    </main>
    <script
			  src="https://code.jquery.com/jquery-3.5.1.min.js"
			  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
			  crossorigin="anonymous"></script>
    <script 
        src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" 
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" 
        crossorigin="anonymous"></script>
    <script 
        src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" 
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" 
        crossorigin="anonymous"></script>
    <script type="text/javascript" src="assets/js/application.js"></script>
    <script type="text/javascript" src="assets/js/flip.min.js"></script>
    <script type="text/javascript" >
        function handleTickInit(tick) {
            // words to show on billboard
            var rotation = [
                'Arrivals'
            ];
    
            // current rotation index (we start at the first word)
            var index = 0;
    
            // each 3 seconds we'll update the billboard
            Tick.helper.interval(function(){
    
                // get the word at the current index
                tick.value = rotation[index];
    
                // when we reach the end we start over at zero
                index = index < rotation.length - 1 ? index + 1 : 0;
    
            }, 3000);
    
        }
    </script>      
  </body>
</html>